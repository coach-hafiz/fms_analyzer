<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FMS Checker – Underhand Throw (Zero-CDN)</title>

  <!-- Local, vendored libraries (no external CDN) -->
  <script defer src="/libs/tf.min.js"></script>
  <script defer src="/libs/tf-backend-webgl.js"></script>
  <script defer src="/libs/tf-backend-wasm.js"></script>
  <script defer src="/libs/pose-detection.min.js"></script>

  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
<header>
  <h1>Fundamental Movement Skills Checker</h1>
  <p>Underhand Throw — student/teacher friendly checklist (no overlays)</p>
</header>

<main class="wrap">
  <section class="card">
    <div class="row">
      <div>
        <label for="dominant">Dominant Hand</label>
        <select id="dominant"><option>right</option><option>left</option></select>
      </div>
      <div>
        <label for="direction">Throw Direction (on screen)</label>
        <select id="direction">
          <option value="right" selected>Toward right ➡️</option>
          <option value="left">Toward left ⬅️</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div>
        <label for="sampleRate">Sampling FPS (analysis)</label>
        <select id="sampleRate">
          <option value="12" selected>12 fps (balanced)</option>
          <option value="8">8 fps (fast)</option>
          <option value="16">16 fps (detailed)</option>
        </select>
      </div>
      <div>
        <label for="file">Video file (side view, full body in frame)</label>
        <input id="file" type="file" accept="video/*" />
      </div>
    </div>

    <div class="controls">
      <button id="analyze">Analyze</button>
      <span id="status" class="hint"></span>
    </div>

    <div class="progressbar">
      <progress id="prog" value="0" max="100"></progress>
      <span class="pct" id="pct">0%</span>
    </div>

    <div id="toast" class="toast"></div>
    <div id="diag" class="diag"></div>

    <!-- Hidden video element (no overlay) -->
    <video id="vid" style="display:none" controls></video>
  </section>

  <section class="card" id="checklistCard">
    <div class="scoreRow">
      <h3>Checklist</h3>
      <span class="pill" id="scorePill">Score: 0/8</span>
    </div>
    <p class="small" id="summary">Load a video and press Analyze. Items become ✓ or ✗ after processing.</p>

    <table>
      <thead>
        <tr><th style="width:50%">Performance Criterion</th><th>Status</th><th>Evidence (timestamps)</th><th>Notes</th></tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </section>
</main>

<footer>Zero-CDN build: all libs, models & WASM served from this site.</footer>

<script src="/js/app.js"></script>
</body>
</html>
